{
  "send": {
    "description": "Fields sent in the 'payload' field (as stringified JSON) when Course Builder requests content from Content Studio.",
    "fields": [
      {
        "name": "learner_id",
        "type": "UUID",
        "required": true,
        "description": "Learner identifier when requesting learner-specific content from Content Studio."
      },
      {
        "name": "learner_name",
        "type": "string",
        "required": true,
        "description": "Human-readable learner name."
      },
      {
        "name": "learner_company",
        "type": "string",
        "required": false,
        "description": "Optional company/organization for additional context."
      },
      {
        "name": "skills",
        "type": "array<string>",
        "required": true,
        "description": "Array of skill IDs or names used by Content Studio to generate lessons."
      }
    ]
  },
  "response": {
    "description": "Fields in the 'response' object that Content Studio fills in and returns. Initially sent empty, Content Studio populates them.",
    "fields": [
      {
        "name": "learner_id",
        "type": "string",
        "required": true,
        "description": "Echoed learner identifier from request."
      },
      {
        "name": "learner_name",
        "type": "string",
        "required": true,
        "description": "Echoed learner name from request."
      },
      {
        "name": "learner_company",
        "type": "string",
        "required": false,
        "description": "Echoed learner company from request (if provided)."
      },
      {
        "name": "topics",
        "type": "array<object>",
        "required": true,
        "description": "Array of topics (lessons) generated by Content Studio. Each topic becomes one lesson in Course Builder."
      }
    ]
  },
  "receive": {
    "trainer_course": {
      "description": "Payload sent when a trainer creates a course inside Content Studio.",
      "fields": [
        { "name": "course_id", "type": "string", "required": true },
        { "name": "course_name", "type": "string", "required": true },
        { "name": "course_description", "type": "string", "required": false },
        { "name": "course_language", "type": "string", "required": true },
        { "name": "trainer_id", "type": "string", "required": true },
        { "name": "trainer_name", "type": "string", "required": true },
        {
          "name": "topics",
          "type": "array<object>",
          "required": true,
          "description": "Each topic becomes one lesson in Course Builder."
        }
      ],
      "topic_fields": [
        { "name": "topic_id", "type": "string", "required": true },
        { "name": "topic_name", "type": "string", "required": true },
        { "name": "topic_description", "type": "string", "required": false },
        { "name": "topic_language", "type": "string", "required": false },
        { "name": "template_id", "type": "string", "required": false },
        { "name": "format_order", "type": "array<string>", "required": true },
        {
          "name": "contents",
          "type": "array<object>",
          "required": true,
          "description": "Each content object MUST include content_type and content_data."
        },
        {
          "name": "devlab_exercises",
          "type": "array<object> | string",
          "required": true,
          "description": "If empty string, normalize to []."
        }
      ]
    },
    "learner_specific_course": {
      "description": "Payload sent when Course Builder requests personalized lessons using learner_id + skills.",
      "fields": [
        { "name": "learner_id", "type": "string", "required": true },
        { "name": "learner_name", "type": "string", "required": true },
        { "name": "learner_company", "type": "string", "required": false },
        {
          "name": "topics",
          "type": "array<object>",
          "required": true,
          "description": "Each topic becomes one lesson in Course Builder."
        }
      ],
      "topic_fields": [
        { "name": "topic_id", "type": "string", "required": true },
        { "name": "topic_name", "type": "string", "required": true },
        { "name": "topic_description", "type": "string", "required": false },
        { "name": "topic_language", "type": "string", "required": false },
        { "name": "trainer_id", "type": "string", "required": false },
        { "name": "trainer_name", "type": "string", "required": false },
        { "name": "template_id", "type": "string", "required": false },
        { "name": "format_order", "type": "array<string>", "required": true },
        {
          "name": "contents",
          "type": "array<object>",
          "required": true,
          "description": "Each content object MUST include content_type and content_data."
        },
        {
          "name": "devlab_exercises",
          "type": "array<object> | string",
          "required": true,
          "description": "If empty string, normalize to []."
        }
      ]
    }
  },
  "notes": {
    "content_type": "For every entry in topics[].contents[], content_type is REQUIRED. content_data changes shape based on content_type, but content_type must always be present."
  }
}


