{
  "send": {
    "feedback": {
      "type": "object",
      "required": true,
      "description": "Feedback object",
      "properties": {
        "rating": {
          "type": "number",
          "required": true,
          "description": "Rating (1-5)"
        },
        "comment": {
          "type": "string",
          "required": false,
          "description": "Feedback comment"
        },
        "submitted_at": {
          "type": "string (ISO8601)",
          "required": true,
          "description": "Submission timestamp"
        }
      }
    },
    "course_id": {
      "type": "string (UUID)",
      "required": true,
      "description": "Course identifier"
    },
    "course_name": {
      "type": "string",
      "required": true,
      "description": "Course name"
    },
    "learner_id": {
      "type": "string (UUID)",
      "required": true,
      "description": "Learner identifier"
    }
  },
  "receive": {
    "employee_id": {
      "type": "string (UUID)",
      "required": true,
      "description": "Employee identifier"
    },
    "preferred_language": {
      "type": "string",
      "required": false,
      "description": "Employee preferred language"
    },
    "bonus_attempt": {
      "type": "boolean",
      "required": false,
      "description": "Whether employee has bonus attempt available"
    }
  },
  "source": {
    "send": {
      "feedback": "feedback table (rating, comment, submitted_at)",
      "course_id": "feedback.course_id",
      "course_name": "DERIVED from courses.course_name (lookup via course_id)",
      "learner_id": "feedback.learner_id"
    },
    "receive": {
      "employee_id": "Directory microservice response",
      "preferred_language": "Directory microservice response",
      "bonus_attempt": "Directory microservice response"
    }
  },
  "derived": {
    "send": {
      "course_name": "Looked up from courses.course_name using feedback.course_id"
    },
    "receive": {}
  },
  "validation": {
    "send": {
      "feedback": {
        "type": "object",
        "required": true,
        "properties": {
          "rating": {
            "type": "number",
            "minimum": 1,
            "maximum": 5,
            "required": true
          },
          "comment": {
            "type": "string",
            "required": false
          },
          "submitted_at": {
            "type": "string",
            "format": "date-time",
            "required": true
          }
        }
      },
      "course_id": {
        "type": "string",
        "format": "uuid",
        "required": true
      },
      "course_name": {
        "type": "string",
        "minLength": 1,
        "required": true
      },
      "learner_id": {
        "type": "string",
        "format": "uuid",
        "required": true
      }
    },
    "receive": {
      "employee_id": {
        "type": "string",
        "format": "uuid",
        "required": true
      },
      "preferred_language": {
        "type": "string",
        "required": false
      },
      "bonus_attempt": {
        "type": "boolean",
        "required": false
      }
    }
  },
  "examples": {
    "minimal": {
      "send": {
        "feedback": {
          "rating": 4,
          "submitted_at": "2025-11-13T10:00:00Z"
        },
        "course_id": "11111111-1111-1111-1111-111111111111",
        "course_name": "Intro to React",
        "learner_id": "22222222-2222-2222-2222-222222222222"
      },
      "receive": {
        "employee_id": "33333333-3333-3333-3333-333333333333",
        "preferred_language": "en"
      }
    },
    "full": {
      "send": {
        "feedback": {
          "rating": 5,
          "comment": "Excellent course! Very comprehensive and well-structured.",
          "submitted_at": "2025-11-13T10:00:00Z"
        },
        "course_id": "11111111-1111-1111-1111-111111111111",
        "course_name": "Advanced React Development",
        "learner_id": "22222222-2222-2222-2222-222222222222"
      },
      "receive": {
        "employee_id": "33333333-3333-3333-3333-333333333333",
        "preferred_language": "en",
        "bonus_attempt": true
      }
    }
  }
}






